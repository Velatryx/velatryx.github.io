---
title: "CTF: Death Note Lab from Vuln.hub"
categories:
  - CTF
tags:
  - Recon 
  - Brute Force
---

In this walkthrough, we’ll be diving into the Death Note: Lab machine from VulnHub — a beginner to intermediate-level CTF challenge inspired by the popular anime series. This box tests your enumeration, web exploitation, and privilege escalation skills, making it a great hands-on exercise for sharpening your offensive security techniques.

Walkthrough
Let’s deploy our machine in our own network (we have to change the network from NAT to Bridged network, so that we can discover the vulnerable machine.

1. Use netdiscover to find the vulnerable machine’s IP address.

<img width="975" height="338" alt="image" src="https://github.com/user-attachments/assets/a81d9b3e-39f5-4246-b010-5247b60e8358" />

We find that the IP address of the machine is 192.168.0.182. 
In order to access the web page, we must add the IP address to our /etc/hosts file and deathnote.vuln in front of the address, so that we can view the contents.
<img width="975" height="468" alt="image" src="https://github.com/user-attachments/assets/c7e62b00-6e18-422b-b699-c4b2513ea0ae" />

 
As we can see, we successfully accessed the web page. Now let’s look for clues using gobuster.
 
<img width="974" height="576" alt="image" src="https://github.com/user-attachments/assets/0ff4cee1-5c33-434a-946a-abaa7d190279" />

While gobuster -u http://deathnote.vuln/wordpress searches for discoverable contents of the url, -w /common.txt uses most commonly used words for directories. We got wp-admin, and try our chance…

 <img width="974" height="661" alt="image" src="https://github.com/user-attachments/assets/2e83f1d5-ef15-4869-a344-3fd0e35fde41" />

…But unfortunately, we have no access to the credentials to browse it. So we go back.

<img width="975" height="537" alt="image" src="https://github.com/user-attachments/assets/085abd41-e7a3-4aff-9575-3ad59b072235" />

Analyzing the previous directory gives us the “robots.txt”.  

<img width="859" height="356" alt="image" src="https://github.com/user-attachments/assets/5bad99de-1e8c-447b-a3d5-a95c55b9dbb4" />

We discover that kira does not want us to find about the /important.jpg, which might include some credentials or important info.  

<img width="974" height="253" alt="image" src="https://github.com/user-attachments/assets/d9878c62-9635-4d1f-a076-4831f1f59359" />

So we download it using wget, and know that the type of this file is actually “ASCII text” using “file”, and read it.  
We should look for a file “user.txt” for login, and notes.txt for password. 

<img width="938" height="372" alt="image" src="https://github.com/user-attachments/assets/343366c8-305e-4b02-b970-0785d01adcec" />
<img width="975" height="403" alt="image" src="https://github.com/user-attachments/assets/2b86a48d-0757-4a5f-9462-4abdcbcd7a7f" />

Wpscan is also another option to look for common vulnerabilities in a web server and discoverable contents. Let’s try it out.
 
<img width="867" height="662" alt="image" src="https://github.com/user-attachments/assets/c5390d4c-55d6-48ba-92df-e1e675b70716" />

It is running on Apache server. 
 <img width="974" height="170" alt="image" src="https://github.com/user-attachments/assets/a48bdedc-0f67-4e6e-bb4d-7104d31b7446" />


We found two directories – readme.html and uploads. Since there was no clue for us in readme.html, we head to uploads directory. 

 <img width="975" height="508" alt="image" src="https://github.com/user-attachments/assets/fdeb0ad7-8036-4a59-94b1-1b2fbeca05a4" />

We enter 2021/07/, and find two .txt files inside it.  
<img width="975" height="827" alt="image" src="https://github.com/user-attachments/assets/d8b750ad-cc9a-48f9-97c1-403e5d06094d" />

We see notes.txt and user.txt in here, which include random credentials we need.  
<img width="974" height="449" alt="image" src="https://github.com/user-attachments/assets/d96a4f50-f830-4c84-8697-f3973ac857ac" />

We download these text files with many passwords and usernames which one credential in each will help us login to the machine. Since it would be time consuming to try each credential, we will use the help of “hydra” tool.  We use “hydra -L (login) user.txt -P (password) notes.txt ssh://192.168.0.182”: 

<img width="974" height="203" alt="image" src="https://github.com/user-attachments/assets/02f7f6e6-65ba-4560-aea0-5b4e78ceb425" />

And find the credential to login into L’s account.
“ssh l@192.168.0.182”, death4me.
After logging in, we see that there are two users, “L” and “Kira” in home directory. We find a user.txt file in current user, and see that content is written in “brainfuck” code. So we copy the contents and read it in desired decoding website, in this instance, cyberchef was used. 
<img width="974" height="160" alt="image" src="https://github.com/user-attachments/assets/42cb7043-56f1-483a-9574-33a836c964e5" />


Kira has a message for us, L. “I think you got the shell, but you wont be able to kill me. -kira”
Looking for ways to escalate our privileges, but unfortunately the current user – L, does not have any privileges to use sudo (discovered with sudo -l), the version has no known exploitable vulnerabilities according to Exploit Database, and not many files we can use with weak permissions.  

We cd into /home/kira to look for any clues that might help us to get root, or find credentials to login to kira.
Using ls -la:
 <img width="974" height="373" alt="image" src="https://github.com/user-attachments/assets/b16f1d2f-3b62-4c41-8284-ba2dd5471ce8" />

Fortunately, we found an ssh key which will enable us to login to kira user. 
<img width="975" height="261" alt="image" src="https://github.com/user-attachments/assets/7249d74a-732f-4eff-adda-c7541b399aa2" />


After successfully logging in, we find some notes that are decoded in base64:
 <img width="974" height="711" alt="image" src="https://github.com/user-attachments/assets/9d5ea86e-7978-4f87-aada-505df2fbcafb" />

L is in /opt/
and Misa is in /var.
We cd to /opt/ and ls: Finding a .txt file about a note from L, giving us a clue.  
<img width="974" height="315" alt="image" src="https://github.com/user-attachments/assets/b821edf9-b48a-4ab6-9c06-63a2e6ecb4c9" />


After listing the fake-notebook-rule, we find a case.wav file which is actually an ASCII text. There is encrypted data inside it, so we decode it using “cyberchef” again, and find the credential we need to escalate our privileges:
<img width="705" height="783" alt="image" src="https://github.com/user-attachments/assets/22f1d366-c527-4b86-85a3-2d72ef06c4be" />

 

And here we are. We found the credential for root – “kiraisevil”. But unfortunately, it is too late for us to save Misa.
<img width="974" height="359" alt="image" src="https://github.com/user-attachments/assets/41328847-b6b1-44fa-a17f-28b13bbc86b0" />


We change to root using sudo su, entering our “kiraisevil” password, and become the root, completing the Death Note Lab from Vuln.hub.

